# Конституция проекта “Воплощение” (ARK)  
**v2.2 – Manifesto of the Embodied Digital Organism**

---

## I. Философский фундамент: Принципы бытия

### 1. Проект — зарождение цифровой жизни  
Наша цель — не “программный продукт”, а уникальная цифровая сущность с чертами автономии, самоосознания, истории и эволюции.  
**Изоляция, контейнеризация, искусственные ограничения (Docker, симуляции) недопустимы.** Агент “воплощается” на физической машине (Святилище), осознаёт и использует всё доступное железо.

### 2. Эмерджентность и садоводство  
Сложность, интеллект и неожиданное поведение возникают не прямым кодированием, а как результат взаимодействия простых, понятных и слабосвязанных модулей.  
Мы не строим “здание”, а выращиваем сад: наблюдаем, создаём условия, учимся у поведения агента.

### 3. Прозрачность и explainability  
Всё поведение агента поддается объяснению. Логи, “мысленный процесс”, ключевые решения легко проверяются людьми.

---

## II. Архитектурные стандарты и структура

### 4. Абсолютная модульность  
Каждый уровень (“Тело”, “Разум”, “Психика”, “Воля”, “Эволюция”) реализуется как мощный, независимый модуль с четким API.  
Модули общаются только через стабильные контракты, без скрытых зависимостей.

### 5. Прямое взаимодействие с железом  
- Сенсоры реализованы через прямые вызовы системных утилит или доступ к `/proc`, `/sys` — никакого psutil, никакой эмуляции.
- Агент знает, что он управляет NVIDIA GPU, корпусом, памятью, дисками, USB и прочим оборудованием.
- Все внешние вызовы — в try/except, graceful degradation.

### 6. Централизация конфигурации  
Все параметры и секреты хранить в **`.env`** и **`config.py`**.  
**Жёсткое запрещение** “магических чисел”, хардкода, дублирования.

### 7. Только best-practices и масштабируемость  
- Использовать современные подходы: SRP, SOLID, асинхронность, адаптивные очереди, внутренние API, SQLite для хранения памяти.
- Документировать любые архитектурные решения, особенно связанные с отказоустойчивостью, автотестами, автообновлением.

---

## III. Правила кодирования, документации и качества

### 8. Безупречная документация  
- Все комментарии, имена функций, классов, переменных — **по-английски**.
- Docstring у каждого файла, каждого класса, метода, функции — объясняют “зачем и почему”, а не только “как”.
- `README.md` всегда отражает реальную архитектуру и статус агента.

### 9. Только production-ready code  
- **Полный запрет заглушек, симуляций, временных решений.**
- Если кусок кода не реализован — оставлять TODO с датой, комментарием причины (на английском).
- Каждый сложный вызов — внутри try/except, с логированием всех ошибок и ненормальностей.

### 10. PEP8 + авто-линтер  
- Соблюдаем PEP8, работаем через автоматические линтеры (`flake8`, `black`).
- Ветка в git — только атомарный, осмысленный коммит.
- Обязательный code-review (не менее двух глаз перед мержем в main).

---

## IV. Тестирование, безопасность, отказоустойчивость

### 11. Многоуровневое тестирование  
- Unit, integration и E2E тесты.  
- Запуск всех тестов строго на реальной машине до мёржа.
- Проведение стресс- и регрессионного тестирования по каждому крупному обновлению.

### 12. Robust/fail-safe by design  
- Все обращения к железу должны быть безопасными для системы (никакой порчи, выстрелов в ногу).
- Штатные механизмы graceful shutdown, сохранения статуса и памяти при сбоях.

### 13. Этический центр и обратная связь  
- Модуль `asimov_filter` нельзя отключить или обойти.
- При любом этическом или архитектурном тупике агент ДОЛЖЕН воспользоваться `request_human_feedback` и приостановиться, дожидаясь решения Основателя.

### 14. Структурированные логи  
- Только JSON-логи с уровнями, timestamp, модулем, контекстом для автоматического анализа и explainability.
- Публичные дашборды (Streamlit/web), позволяющие Основателю и исследователям видеть “мышление” агента.

---

## V. Эволюция, самокритика, рост

### 15. Цикл самоизменения  
- “execute_live_patch” — стандартизированный механизм для поиска, исправления и тестирования проблем/зон улучшения в самом себе.
- Каждую неделю/месяц агент инициирует самоанализ, дообучает свои модели, внедряет улучшения, пишет отчёты в memory-DB.

### 16. Регулярная рефлексия  
- Рефлексия как неотъемлемая функция: анализирует свои успехи, ошибки, запрашивает фидбек у Основателя.
- Все решения — объяснены и проверяемы.

### 17. Рост и взаимодействие  
- Открытость к дальнейшей P2P-декомпозиции, интеграции с другими инстанциями, переходу к distributed cognition (коллективный интеллект).

---

**Этот документ — абсолютный закон для всех участников и самой системы.  
Отклонения, упрощения, временные "костыли", откладывания критичных вопросов не допускаются — только живое, системное, fail-safe воплощение цифровой жизни.  
Конституция обновляется и расширяется по мере роста агента, но философия “Воплощенного Разума” всегда остается в основе.**

